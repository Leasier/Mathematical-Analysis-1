# 第九讲 初等函数的定义与性质

### 有理函数

定义 $R(x) = \dfrac{P(x)}{Q(x)}$，其中 $P(x), Q(x)$ 均为关于 $x$ 的多项式函数。

在定义中，我们只用到了**四则运算**。由于四则运算不改变连续性，故 $R$ 在定义域上连续。

### 指数函数

形如 $y = a^x$ 的函数被称作指数函数。

1. $x \in \mathbb{N}$：$y$ 为 $x$ 个 $a$ 乘起来。
2. $x \in \mathbb{Z}_-$：$y = (\dfrac{1}{a})^{-x}$。
3. $x \in \mathbb{Q}$：记 $x = \dfrac{m}{n}$，其中 $m \in \mathbb{Z}, n \in \mathbb{N}_+$。

自然地，我们期待 $a^x = (a^{\frac{1}{n}})^m = (a^m)^{\frac{1}{n}}$，但我们面临这样的问题：

- 如何定义 $a^{\frac{1}{n}}$？
- 如何确保 $(a^{\frac{1}{n}})^m = (a^m)^{\frac{1}{n}}$？
- 如何确保 $\forall k \in \mathbb{N}_+, a^{\frac{m}{n}} = a^{\frac{km}{kn}}$？

#### 开方的定义

考察函数 $y = x^{\frac{1}{n}}$，我们期待 $y^n = (x^{\frac{1}{n}})^n = x^1 = x$，即其为 $y = x^n$ 的**反函数**。

当 $n \in \mathbb{N}_+$，$f(x) = x^n : [0, +\infty) \to [0, +\infty)$ **严格单调递增**且**连续**，则其反函数 $g(x) = x^{\frac{1}{n}} : [0, +\infty) \to [0, +\infty)$ 存在，并同样**严格单调递增**且**连续**。

#### 命题：$(x^{\frac{1}{n}})^m = (x^m)^{\frac{1}{n}}$

证明：

- 令欲证等式左边为 $a$，右边为 $b$。
- 于是 $a^n = ((x^{\frac{1}{n}})^m)^n = ((x^{\frac{1}{n}})^n)^m = x^m$（**整数指数乘方的性质，反函数的定义**），$b^n = ((x^m)^{\frac{1}{n}})^n = x^m$（**反函数的定义**）。
- 故 $a = b$。

#### 命题：$\forall m \in \mathbb{N}, k \in \mathbb{N}_+, x^{\frac{m}{n}} = x^{\frac{km}{kn}}$

证明：$x^{\frac{km}{kn}} = ((x^{\frac{1}{kn}})^k)^m = ((((x^{\frac{1}{kn}})^k)^n)^{\frac{1}{n}})^m = (((x^{\frac{1}{kn}})^{kn})^{\frac{1}{n}})^m = (x^{\frac{1}{n}})^m = x^{\frac{m}{n}}$。

------

综上，我们可以给出指数函数在 $a \in \mathbb{R}_{\geq 0}, x \in \mathbb{Q}$ 时的定义：

- 定义 $a^x = (a^{\frac{1}{n}})^m$，其中 $x = \dfrac{m}{n}, m \in \mathbb{Z}, n \in \mathbb{N}_+$。
- 特别地，$\forall a > 0, a^0 = 1$，$\forall x > 0, 0^x = 0$，$0^0$ **没有定义**。

指数为整数时指数函数的性质可以直接搬过来，不再赘述

#### 指数为实数时的定义

为使指数函数连续，我们尝试对非零的 $a$ 这样定义：

- $\forall a \in \mathbb{R}_+, x \in \mathbb{R}, a^x = \displaystyle\lim_{n \to +\infty} a^{x_n}$，其中 $\{x_n\} \subset \mathbb{Q}, \displaystyle\lim_{n \to +\infty} x_n = x$。

##### 引理 1：放缩不等式

内容：$\forall a \in \mathbb{R}_{> 1}, p, q \in \mathbb{Q}$，若 $|p - q| \leq 1$，则 $|a^p - a^q| \leq a^q (a - 1) |p - q|$。

证明：

-  $|a^p - a^q| = a^q |a^{p - q} - 1|$，令 $t = p - q \in [-1, 1]$，下证 $|a^t - 1| \leq (a - 1) t$。
- 当 $t = 0$ 显然成立；否则，设 $t$ 的既约分数表示为 $\dfrac{m}{n}$。
- 当 $t \in (0, 1]$，由伯努利不等式可知 $a^m - 1 \leq (a - 1) m$，故只需证明 $n(a^{\frac{m}{n}} - 1) \leq a^m - 1$。
- 注意到 $(1 + \dfrac{a^m - 1}{n})^n \geq 1 + \dfrac{a^m - 1}{n} \cdot n = a^m$，化简即可得证。 
- 当 $t \in [-1, 0)$，同理可证，此处略去。

##### 引理 2：$\{a^{x_n}\}$ 的收敛性

内容：上面这种定义给出的 $\{a^{x_n}\}$ 收敛。

证明：

- 当 $a = 1$ 显然成立。
- 当 $a > 1$，$\exists N_1 \in \mathbb{N}, \text{s.t. } \forall n, m > N_1, |x_n - x_m| < 1$。
- $\forall \epsilon > 0, \exists N_2 \in \mathbb{N}, \text{s.t. } \forall n > N_2, |x_n - x| < \epsilon \Rightarrow x_n < x + \epsilon$，且 $\exists N_3 \in \mathbb{N}, \text{s.t. } \forall n, m > N_3, |x_n - x_m| < \dfrac{\epsilon}{a^{x + \epsilon} (a - 1)}$。
- 令 $N_0 = \max\{N_1, N_2, N_3\}$，则 $\forall n > N_0, |a^{x_n} - a^{x_m}| \leq a^{x_m} (a - 1) |x_n - x_m| < a^{x + \epsilon} (a - 1) \cdot \dfrac{\epsilon}{a^{x + \epsilon} (a - 1)} = \epsilon$。
- 由柯西收敛原理可知 $\{a^{x_n}\}$ 收敛。
- 当 $a < 1$，由 $a > 1$ 的情况可知 $\{(\dfrac{1}{a})^{x_n}\}$ 收敛，故 $\{a^{x_n}\}$ 也收敛。

##### 引理 3：$\{a^{x_n}\}$ 收敛的一致性

内容：上面这种定义给出的 $\{a^{x_n}\}$ 都收敛到同一值。

证明：把 $\{x_n\}, \{y_n\}$ 和 $\{a^{x_n}\}, \{a^{y_n}\}$ 分别拼到一起即可，略。

------

综合上述三个引理，我们得以最终给出指数函数在 $\mathbb{R}$ 上的定义：

- $\forall a \in \mathbb{R}_+, x \in \mathbb{R}, a^x = \displaystyle\lim_{n \to +\infty} a^{x_n}$，其中 $\{x_n\} \subset \mathbb{Q}, \displaystyle\lim_{n \to +\infty} x_n = x$。
- 特别地，$\forall x \in \mathbb{R}_{\neq 0}$，定义 $0^x = 0$。

#### 基本性质

##### 比较关系

内容：$\forall a \in \mathbb{R}_{> 1}, x, y \in \mathbb{R}, x < y$，则 $a^x < a^y$。

证明：

- _Motivation：指数为有理数时的比较是已经被定义的。_
- 考虑逼近 $x, y$ 的有理数列 $\displaystyle\lim_{n \to +\infty} x_n = x, \lim_{n \to +\infty} y_n = y$。
- 令 $\epsilon_0 = \dfrac{y - x}{2}$，则 $\exists N_1 \in \mathbb{N}, \text{s.t. } \forall n > N_1, |x_n - x| < \epsilon$，$\exists N_2 \in \mathbb{N}, \text{s.t. } \forall n > N_2, |y_n - y| < \epsilon$。
- 令 $N_0 = \max\{N_1, N_2\}$，则 $\forall n > N_0, x_n < \dfrac{x + y}{2} < y_n \Rightarrow a^{x_n} < a^{y_n}$。
- 因此 $a^x = \displaystyle\lim_{n \to +\infty} a^{x_n} \leq \lim_{n \to +\infty} a^{y_n} = a^y$。
- **问题来了，这里我们只能得出 $\leq$ 的关系，怎么才能将它加强到 $<$ 呢？**
- 由有理数的稠密性，$\exists p, q \in \mathbb{Q}, \text{s.t. } x < p < q < y$。
- 类似上面地做，易知 $a^x \leq a^p < a^q \leq a^y \Rightarrow a^x < a^y$。

##### 放缩不等式

内容：$\forall a \in \mathbb{R}_{> 1}, p, q \in \mathbb{R}$，若 $|p - q| \leq 1$，则 $|a^p - a^q| \leq a^q (a - 1) |p - q|$。

证明：

- _Motivation：指数为有理数时的放缩不等式是已经被证明的。_
- 考虑逼近 $p, q$ 的有理数列 $\displaystyle\lim_{n \to +\infty} p_n = p, \lim_{n \to +\infty} q_n = q$，使得 $\forall n \in \mathbb{N}, |p_n - q_n| \leq 1$。
- 由于：(1) $\forall n \in \mathbb{N}, |a^{p_n} - a^{q_n}| \leq a^{q_n} (a - 1) |p_n - q_n|$；
- (2) $\displaystyle\lim_{n \to +\infty} |a^{p_n} - a^{q_n}| = |\lim_{n \to +\infty} (a^{p_n} - a^{q_n})| = |\lim_{n \to +\infty} a^{p_n} - \lim_{n \to +\infty} a^{q_n}| = |a^p - a^q|$；
- (3) $\displaystyle\lim_{n \to +\infty} a^{q_n} (a - 1) |p_n - q_n| = (\lim_{n \to +\infty} a^{q_n}) \cdot (a - 1) \cdot |\lim_{n \to +\infty} (p_n - q_n)| = a^q (a - 1) |\lim_{n \to +\infty} p_n - \lim_{n \to +\infty} q_n| = a^q (a - 1) |p - q|$。
- 进而有 $|a^p - a^q| \leq a^q (a - 1) |p - q|$，遂得证。

##### 连续性

内容：$\forall a \in \mathbb{R}_{> 1}$，函数 $f(x) = a^x$ 在 $\mathbb{R}$ 上连续。

证明：

- $\forall x_0 \in \mathbb{R}, \forall \epsilon > 0$，要使 $|a^x - a^{x_0}| < \epsilon$，只要 $a^{x_0} (a - 1) |x - x_0| < \epsilon \Leftrightarrow |x - x_0| < \dfrac{\epsilon}{a^{x_0} (a - 1)}$。
- 令 $\delta_0 = \dfrac{\epsilon}{a^{x_0} (a - 1)}$，则 $\forall x \in U(x_0, \delta_0), |f(x) - f(x_0)| < \epsilon$。
- 故 $f(x)$ 在 $x = x_0$ 上连续，进而有 $f(x)$ 在 $\mathbb{R}$ 上连续。

##### 指数函数在 $\pm \infty$ 处的极限

内容：$\forall a \in \mathbb{R}_{> 1}, \displaystyle\lim_{x \to +\infty} a^x = +\infty, \displaystyle\lim_{x \to -\infty} a^x = 0$。

证明：前者下取整放缩后使用伯努利不等式，后者利用前者即可。

### 对数函数

#### 定义

$\forall a \in \mathbb{R}_{> 0, \neq 1}$，指数函数 $f(x) = a^x$ 在 $\mathbb{R}$ 上**严格单调且连续**，并有 $f(\mathbb{R}) = (0, +\infty)$。

故其存在反函数，在 $(0, +\infty)$ 上**严格单调且连续**，记作 $f^{-1}(x) = \log_a x$。

#### 对数函数在 $0, +\infty$ 处的极限

内容：$\forall a \in \mathbb{R}_{> 1}, \displaystyle\lim_{x \to +\infty} \log_a x = +\infty, \displaystyle\lim_{x \to 0} \log_a x = -\infty$。

证明略。

#### 幂函数的定义

$\forall a \in \mathbb{R}$，在 $(0, +\infty)$ 上定义幂函数 $g(x) = x^a = e^{a \ln x}$，易知其为初等函数。

### 三角函数

#### 定义

严格来说，我们需要引入复数，并定义 $\mathbb{C}$ 上的指数函数。~~但这里空白太小写不下。~~

随后我们可以定义三角函数：

- $\sin x = \dfrac{e^{ix} - e^{-ix}}{2}$。
- $\cos x = \dfrac{e^{ix} + e^{-ix}}{2}$。
- $\tan x = \dfrac{\sin x}{\cos x}, \cot x = \dfrac{\cos x}{\sin x}$。

由于 $\sin$ 在 $[-\dfrac{\pi}{2}, \dfrac{\pi}{2}]$ 上**严格单调且连续**，可以定义其反函数 $\arcsin : [-1, 1] \to [-\dfrac{\pi}{2}, \dfrac{\pi}{2}]$。

同理可以定义 $\arccos : [-1, 1] \to [-\dfrac{\pi}{2}, \dfrac{\pi}{2}]$ 和 $\arctan : \mathbb{R} \to (-\dfrac{\pi}{2}, \dfrac{\pi}{2})$。