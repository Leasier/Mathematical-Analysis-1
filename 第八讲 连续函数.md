# 第八讲 连续函数

### 间断点

在上一讲中我们讨论了左右极限，但这不涉及 $f(a)$ 的单点情况。假定它存在，我们来讨论其中的情况。

- 这里所谓“极限存在”都指存在**有限**的极限。

1. $\displaystyle\lim_{x \to a} f(x) = f(a)$
2. $\displaystyle\lim_{x \to a} f(x) = f(a)$ 不成立

这一情况意味着 $f(x)$ 在 $a$ 处的值与左右“断开”了。我们尝试继续细分这一情况：

- (1) $\displaystyle\lim_{x \to a} f(x)$ 存在但不是 $f(a)$

例如：$f(x) = \begin{cases} 1, \quad x = 0 \\ |x|, \quad x \neq 0 \end{cases}$，此时 $\displaystyle\lim_{x \to 0} f(x) = 0$ 与 $f(0) = 1$ 并不相等。

注意到只要将 $f(a)$ 修改为 $\displaystyle\lim_{x \to a} f(x)$，得到的新 $f$ 就连续了，因此我们称这样的 $a$ 为**可去间断点**。

- (2) $\displaystyle\lim_{x \to a} f(x)$ 不存在但 $\displaystyle\lim_{x \to a^+} f(x), \lim_{x \to a^-} f(x)$ 各自存在

例如：$f(x) = \begin{cases} x, \quad x \leq 0 \\ x + 1, \quad x > 0 \end{cases}$，此时 $\displaystyle\lim_{x \to 0^+} f(x) = 1$ 与 $\displaystyle\lim_{x \to 0^-} f(x) = 0$ 并不相等。

- (3) $\displaystyle\lim_{x \to a^+} f(x), \lim_{x \to a^-} f(x)$ 中至少一个不存在

例如：$f(x) = \begin{cases} 1, \quad x = 0 \\ \dfrac{1}{x}, \quad x \neq 0 \end{cases}$，此时 $\displaystyle\lim_{x \to 0^+} f(x) = +\infty$ 与 $\displaystyle\lim_{x \to 0^-} f(x) = -\infty$ 都被认为不存在。

综上：

- 我们将情形 2(1)(2) 中的 $a$ 统称为**第一类间断点**，即 $\displaystyle\lim_{x \to a^+} f(x), \lim_{x \to a^-} f(x)$ 各自存在但其中至少一个与 $f(a)$ 不同。
- 我们将情形 2(3) 中的 $a$ 称为**第二类间断点**。

情形 2 给出的三类条件包含了“断开”的所有情况，于是下面我们将情形 1 作为 $f$ 在 $a$ 处“连续”的定义。

### 单点处的连续性

#### 连续

对于在 $U(x_0)$ 处**有定义**（即 $x_0$ 在定义域内，且其既不是孤立点、也不是定义域上某个极大闭区间的边界）的函数 $f$，若 $\displaystyle\lim_{x \to x_0} f(x) = f(x_0)$，则称 $f$ 在 $x_0$ 处连续。

也可以将这个定义展开为 $\forall \epsilon > 0, \exists \delta > 0, \text{s.t. } \forall x \in U(x_0, \delta), |f(x) - f(x_0)| < \epsilon$。

#### 单侧连续

对于在 $U^+(x_0)$ 处**有定义**（即 $x_0$ 在定义域内，且其既不是孤立点、也不是定义域上某个极大闭区间的**右**边界）的函数 $f$，若 $\displaystyle\lim_{x \to x_0^+} f(x) = f(x_0)$，则称 $f$ 在 $x_0$ 处**右**连续。

同理可以定义左连续。

连续也可以定义为 $f$ 在 $x_0$ 处两侧均连续。

------

若要证明不连续，一种常用的方法是说明（单侧）极限不存在。

[例 1] 证明：$f(x) = \begin{cases} 0, \quad x = 0 \\ \sin \dfrac{1}{x}, \quad x \neq 0 \end{cases}$ 在 $x = 0$ 处不连续。

令 $\epsilon_0 = 1$，$\forall \delta > 0$，令 $n = \lfloor \dfrac{1}{2 \pi \delta} \rfloor + 1$，则 $\dfrac{1}{2 \pi n} \in U(0, \delta), |f(\dfrac{1}{2 \pi n}) - f(0)| = 1 \geq \epsilon_0$。故 $f(x)$ 在 $x = 0$ 处不连续。

[例 2] 判断 $f(x) = \begin{cases} 0, \quad x = 0 \\ \dfrac{\sin x}{x}, \quad x \neq 0 \end{cases}$ 在 $x = 0$ 处的连续性。

$\displaystyle\lim_{x \to 0} \frac{\sin x}{x} = 1 \neq 0 = f(0)$，故 $f(x)$ 在 $x = 0$ 处不连续，$0$ 为其可去间断点。

[例 3] 判断 $f(x) = \begin{cases} 0, \quad x \in \mathbb{Q} \\ x, \quad x \in \mathbb{R} \backslash \mathbb{Q} \end{cases}$ 在 $x = 0, 1$ 处的连续性。

- $x = 0$：$\forall \epsilon > 0$，取 $\delta = \epsilon$，则 $\forall x \in \check{U}(0, \delta)$，当 $x \in \mathbb{Q}, |f(x) - 0| = |0| = 0$，当 $x \in \mathbb{R} \backslash \mathbb{Q}, |f(x) - 0| = |x| < \epsilon$，故有 $|f(x) - 0| < \epsilon$，则 $\displaystyle\lim_{x \to 0} f(x) = 0$，与 $f(x) = 0$ 相同，故 $f(x)$ 在 $x = 0$ 处连续。
- $x = 1$：构造 $x_n = 1 - \dfrac{1}{n}, y_n = 1 - \dfrac{\pi}{n}$，则 $\displaystyle\lim_{n \to +\infty} x_n = \lim_{n \to +\infty} y_n = 1$，但 $\displaystyle\lim_{n \to +\infty} f(x_n) = 0, \lim_{n \to +\infty} f(y_n) = 1$，两者不等，左极限不存在，故 $f(x)$ 在 $x = 1$ 处不连续，$1$ 为其第二类间断点。

[例 4] 判断 Dirichlet 函数 $f(x) = \begin{cases} 1, \quad x \in \mathbb{Q} \\ 0, \quad x \in \mathbb{R} \backslash \mathbb{Q} \end{cases}$ 在 $\forall x_0 \in \mathbb{R}, x = x_0$ 处的连续性。

对于有理数，构造无理数逼近列；对于无理数，构造有理数逼近列；即可证明不连续。过程略。

[例 5] 判断 Riemann 函数 $f(x) = \begin{cases} \dfrac{1}{q}, \quad x = \dfrac{p}{q}, p \in \mathbb{Z} \backslash \{0\}, q \in \mathbb{N}_+, p \perp q \\ 0, \quad x \in (\mathbb{R} \backslash \mathbb{Q}) \cup \{0\} \end{cases}$ 在 $\forall x_0 \in \mathbb{R}, x = x_0$ 处的连续性。

1. $x = \dfrac{p}{q}, p \in \mathbb{Z} \backslash \{0\}, q \in \mathbb{N}_+, p \perp q$

构造无理数逼近列即可，过程略去。

2. $x \in (\mathbb{R} \backslash \mathbb{Q}) \cup \{0\}$

$\forall \epsilon > 0$，要使 $\dfrac{1}{q} < \epsilon$，只要 $q > \dfrac{1}{\epsilon}$。

- _Motivation：$x_0$ 的某个邻域中分母 $\leq \dfrac{1}{\epsilon}$ 的有理数是**有限**的，把它们排除即可。_
- _一个自然但繁琐的想法是放缩出这个界；但事实上，在 $\epsilon$ 确定时，这些需要被排除的有理数也是确定的，可以直接叙述“排除”，这样做是满足极限的定义的。_

取 $N = \lceil \dfrac{1}{\epsilon} \rceil$，$\exists k, l \in \mathbb{Z}, \text{s.t. } x_0 \in (k, l)$。

$(k, l)$ 中形如 $\dfrac{p}{q}, q \leq N$ 的既约分数的数量有限，设其中最接近 $x_0$ 者为 $x_1$，令 $\delta = |x_1 - x_0|$，则 $\forall x \in \check{U}(x_0, \delta), |f(x) - f(x_0)| < \dfrac{1}{N} \leq \epsilon$。

故 $\displaystyle\lim_{x \to x_0} f(x) = f(x_0)$，即 $f(x)$ 在 $x = x_0$ 处连续。

------

#### 求极限与求值的可交换性

设 $f$ 在 $x_0$ 处连续，$\{x_n\}$ 是 $U(x_0)$ 中满足 $\displaystyle\lim_{n \to +\infty} x_n = x_0$ 的序列，则 $\displaystyle\lim_{n \to +\infty} f(x_n) = \lim_{x \to x_0} f(x) = f(x_0) = f(\lim_{n \to +\infty} x_n)$。

- 第一个等号源于 $x \to x_0$ 时 $f(x)$ 的极限存在，第二个等号源于 $x = x_0$ 处**连续**，第三个等号源于 $\{x_n\}$ 的极限。

#### 四则运算不改变连续性

以连续函数为参与运算的项，进行**有限次**四则运算，所得函数仍连续。

- 推论：有理函数在定义域上是连续的。（源于 $f(x) = x$ 的连续性）

#### 复合函数连续性

若 $f$ 在 $x_0$ 处连续，$g$ 在 $f(x_0)$ 处连续，则 $g(f(x_0))$ 在 $x_0$ 处连续。

#### 不等式

若 $f, g$ 在 $x_0$ 处连续，且 $f(x_0) < g(x_0)$，则 $\exists U(x_0), \text{s.t. } \forall x \in U(x_0), f(x) < g(x)$。

- **前面的小于不能改成小于等于。**

反之，若 $f, g$ 在 $x_0$ 处连续，且 $\exists \check{U}(x_0), \text{s.t. } \forall x \in \check{U}(x_0), f(x) \leq g(x)$，则 $f(x_0) \leq g(x_0)$。

- **后面的小于等于不能改成小于。**

### 区间上的连续性

若 $f(x)$ 在 $(a, b)$ 中每个点处均连续，则称 $f$ 在 $(a, b)$ 上连续，记为 $f \in C(a, b)$。

若 $f \in C(a, b)$，且 $f$ 在 $a$ 处右连续、在 $b$ 处左连续，则称 $f$ 在 $[a, b]$ 上连续，记为 $f \in C[a, b]$。

[例 6] $f(x) \in C[0, +\infty)$，且定义域内有 $f(x^2) = f(x)$，求证：$f$ 是常函数。

$\forall a > 0$，可构造序列 $x_0 = a, x_{n + 1} = \sqrt{x_n}$，则有：

- $\displaystyle\lim_{n \to +\infty} x_n = 1$。
- $\forall n \in \mathbb{N}, f(x_n) = a$。

由于 $f$ 在 $[0, +\infty)$ 上连续，$\displaystyle\lim_{n \to +\infty} f(x_n) = f(\lim_{n \to +\infty} x_n) = f(1)$，则 $f(a) = f(x_n) = \displaystyle\lim_{n \to +\infty} f(x_n) = f(1)$。

又由于 $f$ 在 $0$ 处右连续，有 $f(0) = \displaystyle\lim_{x \to 0^+} f(x) = f(1)$，故 $\forall x \geq 0, f(x) = f(1)$，即 $f$ 为常函数。

[例 7] $f(x) \in C[0, +\infty)$，且定义域内有 $0 \leq f(x) \leq x$，对于序列 $\{a_n\}$ 满足 $a_0 \geq 0, a_{n + 1} = f(a_n)$，求证：

- (1) $\{a_n\}$ 收敛。
- (2) 设 $\{a_n\}$ 极限为 $A$，求证：$f(l) = l$。

证明略。

##### 不动点迭代法

例 7 告诉我们，我们可以算**收敛**递推序列的**有限项**来给出其极限的近似值，这自然地引出了下面的构造。

将一个关于 $x$ 的方程转化为 $f(x) = x$ 的形式，指定一个 $a_0$，然后按照例 2 算若干项，得到一个 $a_n$，将其作为近似解。

$a_0$ 的选取会极大地影响求解结果。无论原方程有没有实数解，都可能给出无解（序列发散）或一个近似解。

#### 介值定理

内容：$f \in C[a, b], f(a) f(b) < 0$，则 $\exists x_0 \in [a, b], \text{s.t. } f(x_0) = 0$。

- _Motivation：如果要编程求出任意一个零点，我们是怎么做的？（$f$ 不一定单调）_

证明：

- 令 $a_0 = a, b_0 = b$，则 $f(a_0) f(b_0) < 0$。
- 令 $c_0 = \dfrac{a_0 + b_0}{2}$，若 $f(c_0) = 0$ 则找到 $x_0 = c_0$，否则 $f(a_0) f(c_0) < 0, f(c_0) f(b_0) < 0$ 必有一个成立。
- 若前者成立则令 $a_1 = a_0, b_1 = c_0$；若前者不成立，则后者成立，令 $a_1 = c_0, b_1 = b_0$；两种情况都有 $f(a_1) f(b_1) < 0$。
- 如此续行，构造出闭区间套 $\{[a_n, b_n]\}_{n \in \mathbb{N}}$，其中 $(b_{n + 1} - a_{n + 1}) = \dfrac{1}{2} (b_n - a_n)$。
- 于是 $0 < b_n - a_n \leq \dfrac{b_0 - a_0}{2^n}$，则 $\displaystyle\lim_{n \to +\infty} (b_n - a_n) = 0$，于是 $\displaystyle\lim_{n \to +\infty} a_n = \lim_{n \to +\infty} b_n$。
- 故 $\cap_{n = 0}^{+\infty} [a_n, b_n] = x^*$，其中 $\displaystyle\lim_{n \to +\infty} a_n = \lim_{n \to +\infty} b_n = x^* \in [a, b]$。
- 又因为 $f \in C[a, b]$，有 $\displaystyle\lim_{n \to +\infty} f(a_n) = \lim_{n \to +\infty} f(b_n) = f(x^*)$。
- 因为 $f(a_n) f(b_n) < 0$，有 $f(x^*)^2 = \displaystyle\lim_{n \to +\infty} f(a_n) f(b_n) \leq 0$。
- 故 $f(x^*) = 0$，找到 $x_0 = x^*$。

##### 推论

内容：若 $f \in C[a, b], f(a) < f(b)$，则 $\forall \eta \in [f(a), f(b)], \exists x_0 \in [a, b], \text{s.t. } f(x_0) = \eta$。

证明略。

#### 全局有界性

- **注意：定义域内每一点局部有界 $\not\Rightarrow$ 定义域内全局有界。**
- 例如：$f(x) = \dfrac{1}{x}, x \in (0, 1)$。

内容：$f \in C[a, b]$，则 $f$ 在 $[a, b]$ 上有界。

- _Motivation：连续蕴含了局部有界。_

证明（**反证法**）：

- 考虑反证法：假设 $f$ 在 $[a, b]$ 上无界。
- 令 $a_0 = a, b_0 = b$，则 $f$ 在 $[a_0, b_0]$ 上无界。
- 令 $c_0 = \dfrac{a_0 + b_0}{2}$，则 $f$ 在 $[a_0, c_0]$ 上无界和 $f$ 在 $[c_0, b_0]$ 上无界必有一个成立。
- 若前者成立则令 $a_1 = a_0, b_1 = c_0$；若前者不成立，则后者成立，令 $a_1 = c_0, b_1 = b_0$；两种情况都有 $f$ 在 $[a_1, b_1]$ 上无解。
- 如此续行，构造出闭区间套 $\{[a_n, b_n]\}_{n \in \mathbb{N}}$，其中 $(b_{n + 1} - a_{n + 1}) = \dfrac{1}{2} (b_n - a_n)$。
- 于是 $0 < b_n - a_n \leq \dfrac{b_0 - a_0}{2^n}$，则 $\displaystyle\lim_{n \to +\infty} (b_n - a_n) = 0$，于是 $\displaystyle\lim_{n \to +\infty} a_n = \lim_{n \to +\infty} b_n$。
- 故 $\cap_{n = 0}^{+\infty} [a_n, b_n] = x^*$，其中 $\displaystyle\lim_{n \to +\infty} a_n = \lim_{n \to +\infty} b_n = x^* \in [a, b]$。
- 先讨论 $a < x^* < b$ 的情况。
- 由于 $f$ 在 $x^*$ 处连续，取 $\epsilon_0 = 1$，则 $\exists \delta > 0, \text{s.t. } \forall x \in U(x^*, \delta), |f(x) - f(x^*)| < \epsilon_0 \Rightarrow |f(x)| < |f(x^*)| + 1$。
- $\exists N_a \in \mathbb{N}, \text{s.t. } \forall n_a > N_a, a_{n_a}, \in U(x^*, \delta)$，$\exists N_b \in \mathbb{N}, \text{s.t. } \forall n_b > N_b, b_{n_b}, \in U(x^*, \delta)$，令 $n = \max(N_a, N_b) + 1$，则 $[a_n, b_n] \subset U(x^*, \delta)$，$f$ 在 $[a_n, b_n]$ 上无界与 $f$ 在 $U(x^*, \delta)$ 上有界矛盾。
- $x^* \in \{a, b\}$ 的情况易证，略去。
- 故假设不成立，即 $f$ 在 $[a, b]$ 上有界。

[例 8] $f(x) = \dfrac{\sin x}{x}$ 在 $(0, 1)$ 上是否有界？

已知 $\displaystyle\lim_{x \to 0^+} f(x) = 1$。

取 $\epsilon_0 = 1$，则 $\exists \delta > 0, \text{s.t. } \forall x \in \check{U}^+(0, \delta), |f(x) - 1| < \epsilon_0$。

- 若 $\delta \leq 1$ 则在 $(0, \delta)$ 上有界，又因为在 $[\delta, 1]$ 上有界，可知在 $(0, 1) \subset (0, 1]$ 上有界。
- 若 $\delta > 1$ 则在 $(0, 1) \subset (0, \delta)$ 上有界。

综上，$f(x)$ 在 $(0, 1)$ 上有界。

#### 最大-最小值定理

-  当我们说“最大值”“最小值”，就默认了这个值能被取到；若不然，只能对有界函数使用“上确界”“下确界”的表述。

内容：若 $f \in C[a, b]$，则 $\exists x_1, x_2 \in [a, b], \text{s.t. } f(x_1) = \sup_{x \in [a, b]} f(x), f(x_2) = \inf_{x \in [a, b]} f(x)$。

证明（**构造子序列**）：

- 由上确界的性质可知：$\forall n \in \mathbb{N}_+, \exists x_n \in [a, b], \text{s.t. } M - \dfrac{1}{n} < f(x_n) \leq M$。
- **注意：这里不能直接断言 $\displaystyle\lim_{n \to +\infty} x_n = +\infty$ 存在，然后套用求极限与求值的可交换性！**
- 由于 $\{x_n\} \subset [a, b]$，$\exists$ 其收敛子序列 $\{x_{n_k}\} \subset [a, b], \text{s.t. } \displaystyle\lim_{k \to +\infty} x_{n_k} = x^* \in [a, b]$。
- 则 $\forall k \in \mathbb{N}_+, M - \dfrac{1}{k} \leq M - \dfrac{1}{n_k} < f(x_{n_k}) \leq M$，故 $\displaystyle\lim_{k \to +\infty} f(x_{n_k}) = M$。
- 进而有 $f(\displaystyle\lim_{k \to +\infty} x_{n_k}) = f(x^*) = M$，于是找到 $x_1 = x^*$。
- 同理可以找到一个 $x_2$。

也可以通过构造闭区间套来证明。

#### 一致连续

定义：$f$ 在 $E$ 上一致连续，若 $\forall \epsilon > 0, \exists \delta > 0, \text{s.t. } \forall x_1, x_2 \in E$，只要 $|x_1 - x_2| < \delta$，就有 $|f(x_1) - f(x_2)| < \epsilon$。

- 一般而言，这里的集合 $E$ 指的是若干区间的并。

[例 9] $\forall a > 0$，求证：$f(x) = x^2$ 在 $(0, a)$ 上一致连续。

证明：$\forall \epsilon > 0$，令 $\delta = \dfrac{\epsilon}{2a}$，则 $\forall x_1, x_2 \in (0, a)$，当 $|x_1 - x_2| < \delta$，有 $|f(x_1) - f(x_2)| = |x_1 - x_2| |x_1 + x_2| < \delta \cdot 2a = \epsilon$，故 $f(x)$ 在 $(0, a)$ 上一致连续。

[例 10] 求证：$f(x) = x^2$ 在 $(0, +\infty)$ 上不一致连续。

证明：取 $\epsilon_0 = 1$，$\forall \delta > 0$，取 $x_1 = \dfrac{1}{\delta}, x_2 = \dfrac{1}{\delta} + \dfrac{\delta}{2}$，则 $|x_1 - x_2| = \dfrac{\delta}{2} < \delta$，但 $|f(x_1) - f(x_2)| = 1 + \dfrac{\delta^2}{4} > \epsilon_0$，故 $f(x)$ 在 $(0, +\infty)$ 上不一致连续。

##### 定理

内容：若 $f \in C[a, b]$，则 $f$ 在 $[a, b]$ 上一致连续。

证明（**反证法，构造序列**）：

- 假设一致连续性不存在，即 $\exists \epsilon_0 > 0, \text{s.t. } \forall \delta > 0, \exists x, y \in [a, b] \land |x - y| < \delta, \text{s.t. } |f(x) - f(y)| \geq \epsilon_0$。
- $\forall n \in \mathbb{N}_+$，令 $\delta_n = \dfrac{1}{n}$，$\exists x_n, y_n \in [a, b] \land |x_n - y_n| < \delta_n, \text{s.t. } |f(x_n) - f(y_n)| \geq \epsilon_0$。
- 由于 $\{x_n\} \subset [a, b]$，$\exists$ 其收敛子序列 $\{x_{n_k}\} \subset [a, b], \text{s.t. } \displaystyle\lim_{k \to +\infty} x_{n_k} = x^* \in [a, b]$。
- 由 $\displaystyle\lim_{n \to +\infty} \delta_n = 0$，可知 $\displaystyle\lim_{n \to +\infty} (x_n - y_n) = 0$，则 $\displaystyle\lim_{k \to +\infty} (x_{n_k} - y_{n_k}) = 0$，故 $\displaystyle\lim_{k \to +\infty} y_{n_k} = x^*$。
- 由于 $f$ 在 $x = x^*$ 处连续，对于上面给定的 $\epsilon_0$，$\exists \delta_0 > 0, \text{s.t. } \forall x \in \check{U}(x^*, \delta_0), |f(x) - f(x^*)| < \dfrac{\epsilon_0}{2}$。
- 由 $\displaystyle\lim_{k \to +\infty} x_{n_k} = \lim_{k \to +\infty} y_{n_k} = x^*$，可知对于上面给定的 $\delta_0$，$\exists K \in \mathbb{N}_+, \text{s.t. } \forall k > K, |x_{n_k} - x^*| < \delta_0, |y_{n_k} - y^*| < \delta_0 \Rightarrow |f(x_{n_k}) - f(x^*)| < \dfrac{\epsilon}{2}, |f(y_{n_k}) - f(x^*)| < \dfrac{\epsilon}{2}$。
- 于是 $|f(x_{n_k}) - f(y_{n_k})| \leq |f(x_{n_k}) - f(x^*)| + |f(y_{n_k}) - f(x^*)| < \epsilon_0$，与 $\forall n \in \mathbb{N}_+, |f(x_n) - f(y_n)| \geq \epsilon_0$ 矛盾。
- 故假设不成立，即 $f$ 在 $[a, b]$ 上一致连续。

#### 区间

##### 引理（区间的连通性）：$J \subseteq \mathbb{R}$ 是一个区间，当且仅当 $\forall \alpha, \beta \in J, \forall x : \alpha \leq x \leq \beta$，有 $x \in J$。

必要性显然，下证充分性：

- _Motivation：我们可以如何找出区间左右端点？忽略端点在不在区间里面，就是上下确界。_
- 令 $A = \inf J, B = \sup J$，下面讨论 $A, B$ 均为有限数的情况。
- 于是 $J \subseteq [A, B]$。
- $\forall x \in (A, B)$，$x$ 不是下确界 $\Rightarrow \exists \alpha \in J, \text{s.t. } \alpha < x$，$x$ 不是上确界 $\Rightarrow \exists \beta \in J, \text{s.t. } x < \beta$。
- 故 $\exists \alpha, \beta \in J, \text{s.t. } \alpha < x < \beta \Rightarrow x \in J$。
- 于是 $(A, B) \subseteq J$。
- 进而 $J$ 只可能为下面四种情况之一：$(A, B), (A, B], [A, B), [A, B]$。因此 $J$ 是一个区间。
- $A = -\infty$ 或 / 和 $B = +\infty$ 的情况同理可证，不再赘述。

##### 定理：$I$ 是一个区间，若 $f \in C(I)$，则 $f(I)$ 也是一个区间。

- _所谓“连续性”似乎不能告诉我们，取值是“稠密”的……_
- _Motivation：给你 $\min, \max$，可以说明两者之间的值都“存在”吗？介值定理即可！_

证明：

- $\forall \alpha, \beta \in f(I), \exists x_1, x_2 \in I, \text{s.t. } f(x_1) = \alpha, f(x_2) = \beta$，不妨设 $\alpha \leq \beta$。
- 对于 $\forall y : \alpha \leq y \leq \beta$，由介值定理可知：$\exists x \in I, \text{s.t. } f(x) = y$，故 $y \in f(I)$。
- 由引理可知：$f(I)$ 也是一个区间。 

但遗憾的是，该定理的逆命题并不成立，例如：

$$
f(x) = \begin{cases} x, \quad 0 \leq x \leq 1 \\ \dfrac{1}{2}, \quad x > 1\end{cases}
$$

#### 单调函数与反函数

##### 定理：$a \in \mathbb{R}$，若 $f$ 在 $\check{U}^-(a)$ 上有定义且单调递增，则 $\displaystyle\lim_{x \to a^-} f(x) = \sup_{x \in \check{U}^-(a)} f(x)$。

- 另外几个反转符号、单调性的情况不再赘述。

事实上，单调函数只可能有**第一类、不可去**的间断点。

##### 定理：若 $f$ 在区间 $I$ 上单调，则 $f \in C(I) \Leftrightarrow f(I)$ 是一个区间。

前推后显然，下证后推前：

- 不妨设 $f$ 在 $I$ 上单调递增。
- 考虑反证法：假设 $f$ 在 $I$ 上不连续。
- 若 $x_0$ 是 $I$ 上 $f$ 的间断点，不妨设 $x_0$ 不是 $I$ 的端点，由 $f$ 单调可知 $f(x_0^-), f(x_0^+)$ 存在。下面讨论两个情形：
- (1) $f(x_0^-) < f(x_0)$：由 $f(x_0^-)$ 的定义，取 $\epsilon = \dfrac{f(x_0) - f(x_0^-)}{2}$，则 $\exists \delta > 0, \text{s.t. } \forall x \in I \cap \check{U}^-(x_0), |f(x) - f(x_0^-)| < \epsilon \Rightarrow f(x) < \dfrac{f(x_0) + f(x_0^-)}{2}$。
- $\forall x \in I \cap (-\infty, x_0 - \delta)$，由单调性有 $f(x) < \dfrac{f(x_0) + f(x_0^-)}{2}$；$\forall x \in I \cap [x_0, +\infty)$，由单调性有 $f(x) \geq f(x_0)$。
- 故 $\forall y \in [\dfrac{f(x_0) + f(x_0^-)}{2}, x_0), \not\exists x \in I, \text{s.t. } f(x) = y$，即 $f(I)$ 不是一个区间。
- (2) $f(x_0) < f(x_0^+)$ 同理可证，不再赘述。
- $x_0$ 是 $I$ 的端点的情况同理可证，亦不再赘述。

##### 定义：反函数

若 $f$ 在 $I$ 上**严格单调**且**连续**，令 $J = f(I)$，则 $f$ 是一个 $I$ 到 $J$ 的**一一映射**，即 $\forall y \in J, \exists ! x \in I, \text{s.t. } f(x) = y$。

因此，我们可以定义函数 $g : J \to I$，其中 $\forall y \in J, g(y)$ 取上面提到与之对应的**唯一**的 $x$，这样定义的 $g$ 称作 $f$ 的反函数，记作 $g = f^{-1}$。

##### 定理：若 $f$ 在区间 $I$ 上严格单调且连续，则其反函数 $g = f^{-1}$ 在 $f(I)$ 上严格单调且连续。

证明：

- 记 $J = f(I)$。
- (1) 先证 $g$ 严格单调。不妨设 $f$ 在区间 $I$ 上严格单调递增。
- $\forall y_1, y_2 \in f(I), \exists ! x_1, x_2 \in I, \text{s.t. } f(x_1) = y_1, f(x_2) = y_2$。
- 若 $y_1 < y_2$，则 $x_1 < x_2$；否则，若 $x_1 \geq x_2$，由 $f$ 在 $I$ 上严格单调递增可知 $y_1 = f(x_1) \geq f(x_2) = y_2$。
- (2) 再证 $g$ 连续。
- 由于 $I$ 为区间且 $f \in C(I)$，可得 $J$ 为区间。
- 又由于 $g$ 在 $J$ 上单调且 $g(J) = I$ 为区间，可得 $g$ 在区间 $J$ 上连续。